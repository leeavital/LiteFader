function Fader(args){this.container;this.framerate;this.framename;this.frames;this.numframes=0;this.currentframe=0;this.frameheight=0;this.framewidth=0;this.zmax=0;this.repositioncontainer=true;if(!("container"in args)){console.error("there was no container found in args")}this.container=args.container;this.framename=("framename"in args)?args.framename:"frame";this.framerate=("framerate"in args)?args.framerate:30;this.milliseconds=("milliseconds"in args)?args.milliseconds:1000;this.repositioncontainer=("repositioncontainer"in args)?args.repositioncontainer:true this.frames=[];this.calcFrames();this.initStyles()}Fader.prototype.calcFrames=function(){var children=this.container.children;var framename=this.framename;for(var i=0;i<children.length;i++){var child=children[i];if(child.nodeType==1&&child.classList.contains(framename)){this.frames.push(child)}}this.numframes=this.frames.length}Fader.prototype.initStyles=function(){this.framewidth=this.frames[0].offsetWidth;this.frameheight=this.frames[0].offsetHeight;this.container.style.overflow="hidden";if(this.repositioncontainer){this.container.style.position="relative"}this.container.style.width=this.framewidth+"px";this.container.style.height=this.frameheight+"px";for(var i=0;i<this.frames.length;i++){frame=this.frames[i];frame.style.position="absolute";frame.style.top=0;frame.style.left=0;frame.style.opacity=(i==this.currentframe)?1:0;frame.style.zIndex=(i==this.currentframe)?this.zmax:this.zmax-1 frame.style.overflow="hidden"}}Fader.prototype.animationclosure=function(frame,o){return(function(){frame.style.opacity=o})}Fader.prototype.zclosure=function(e,z){return(function(){e.style.zIndex=z})}Fader.prototype.showFrame=function(n){var frame=this.frames[n];zclosure=this.zclosure(frame,this.zmax);setTimeout(zclosure,this.milliseconds);for(var i=0;i<this.framerate;i++){var oValue=(i)/this.framerate;var tOffset=i*(this.milliseconds/this.framerate);var closure=this.animationclosure(frame,oValue);setTimeout(closure,tOffset)}}Fader.prototype.hideFrame=function(n){var frame=this.frames[n];zclosure=this.zclosure(frame,this.zmax-1);setTimeout(zclosure,this.milliseconds);for(var i=this.framerate;i>0;i--){var oValue=1-((i)/this.framerate);var tOffset=i*(this.milliseconds/this.framerate);var closure=this.animationclosure(frame,oValue);setTimeout(closure,tOffset)}}Fader.prototype.next=function(){var curFrame=this.currentframe;var nextFrame=(this.currentframe+1)%this.numframes;console.log("hiding: "+curFrame+" and showing: "+nextFrame);this.currentframe=nextFrame;this.showFrame(nextFrame);this.hideFrame(curFrame)}Fader.prototype.previous=function(){var curFrame=this.currentframe;var previousFrame=(curFrame==0)?this.numframes-1:(this.currentframe-1)%this.numframes;console.log("hiding: "+curFrame+" and showing: "+previousFrame);this.currentframe=previousFrame;this.showFrame(previousFrame);this.hideFrame(curFrame)}
